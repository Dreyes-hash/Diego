<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mis Documentos</title>
    <!-- Agregamos Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
    <!-- Modal de opciones para el documento -->
    <div id="nombre_documento" class="card p-4 shadow-lg">
        <h4>nombre_documento</h4>
        <p class="text-muted">Selecciona una opción</p>
        <button class="btn btn-outline-secondary mb-2">Editar</button>
        <!-- Botón para abrir el modal de eliminación -->
        <button class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#confirmDeleteModal">Eliminar</button>
        <button class="btn btn-secondary mt-3" onclick="cerrarOpciones('nombre_documento')">Cerrar</button>
    </div>
</div>

<!-- Modal de confirmación de eliminación -->
<div class="modal fade" id="confirmDeleteModal" tabindex="-1" aria-labelledby="confirmDeleteModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="confirmDeleteModalLabel">Confirmar eliminación</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>¿Estás seguro de que quieres eliminar este CV?</p>
            </div>
            <div class="modal-footer">
                <!-- Formulario para eliminar el CV -->
                <form id="deleteForm" method="POST" action="/eliminar_cv">
                    <input type="hidden" name="cv_id" id="cv_id" value="">
                    <button type="submit" class="btn btn-danger">Eliminar</button>
                </form>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
            </div>
        </div>
    </div>
</div>

<!-- Agregamos Bootstrap JS y dependencias -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>

<script>
    // Variable para almacenar el ID del CV actual
    let currentCvId = null;

    // Función para abrir el modal de opciones
    function openMenu(title, id) {
        document.getElementById("cvTitle").textContent = title;
        currentCvId = id;
        document.getElementById("nombre_documento").style.display = "block";
    }

    // Función para cerrar el menú de opciones
    function cerrarOpciones(id) {
        document.getElementById(id).style.display = "none";
    }

    // Función para abrir el modal de eliminación y pasar el ID del CV al formulario
    function openDeleteModal(cvId) {
        currentCvId = cvId;  // Guardamos el ID del CV
        document.getElementById("cv_id").value = currentCvId;  // Pasamos el ID del CV al campo oculto
        document.getElementById("confirmDeleteModal").style.display = "block";  // Mostramos el modal
    }

    // Función para cerrar el modal de confirmación de eliminación
    function closeDeleteModal() {
        document.getElementById("confirmDeleteModal").style.display = "none";
    }
</script>
</body>
</html>

